<div fxLayoutAlign="end start" [style.backgroundImage]="'url(./assets/img/backgroundprofile.jpg)'" class="background-image"></div>
<div *ngIf="(user$ | async) as user" fxLayoutAlign="center center" fxLayout="column">
    <div mat-card-avatar [style.backgroundImage]="user.avatar" class="avatar"></div>
    <p class="name">{{user.firstName}} {{user.lastName}}</p>
    <p class="title">{{title}}</p>
    <div fxLayout="column" fxLayoutAlign="start start" fxFlex="1 1 auto" style="max-width:500px;padding:10px">
      <div style="width:100%" fxLayoutAlign="end end"><button mat-stroked-button color="warn" (click)="openUserRemoveDialog()">Supprimer</button></div>
      <small class="detail">EMAIL:</small>
      <p class="box">{{user.email}}</p>
      <small class="detail">MOBILE:</small>
      <p class="box">{{user.mobile}}</p> 
      <small class="detail">TYPE D'ACCÈS:</small>
      <p class="box">{{user.access}}</p>              
      <small class="detail">COMPTE CRÉE LE:</small>
      <p class="box">{{user.created_at | niceDateFormat}}</p>  
      <small class="detail">ROLES:</small>
      <div  fxLayout="row wrap" class="box" style="width:100%">
          <mat-chip-list style="padding:5px">
              <mat-chip *ngFor="let role of user.roles">{{role.name}}</mat-chip>
          </mat-chip-list>  
          <small *ngIf="user.roles.length == 0">Vous n'avez pas de role spécifique</small>
      </div>        
      <small class="detail">GROUPS:</small>
      <div  fxLayout="row wrap" class="box" style="width:100%">
          <mat-chip-list style="padding:5px">
              <mat-chip *ngFor="let group of user.groups">{{group.name}}</mat-chip>
          </mat-chip-list>  
          <small *ngIf="user.groups.length == 0">Vous n'etes dans aucun groupe'</small>
      </div>  
      <app-profile-edit style="width:100%" [user]="user"></app-profile-edit>                     
    </div>
</div>

<app-footer></app-footer>